# ThreeBodyChat

**ThreeBodyChat** ã¯ã€ã€Œäººé–“ + 2ä½“ã®LLMï¼ˆå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼‰ã€ãŒä¸‰ä½ä¸€ä½“ã¨ãªã£ã¦ä¼šè©±ã‚’è¡Œã†ã€æ–°ã—ã„ãƒãƒ£ãƒƒãƒˆä½“é¨“ã‚’ç›®æŒ‡ã™ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚  
åå‰ã®ç”±æ¥ã¯ä¸­å›½SFå°èª¬ã€ä¸‰ä½“ã€ã‹ã‚‰ç€æƒ³ã‚’å¾—ã¦ãŠã‚Šã€3è€…ã®å¯¾è©±ã«ã‚ˆã£ã¦ã‚«ã‚ªã‚¹ã§ã¯ãªããƒãƒ©ãƒ³ã‚¹ã‚’ç”Ÿã¿å‡ºã™è¨­è¨ˆæ€æƒ³ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚

## ğŸŒŸ ã‚³ãƒ³ã‚»ãƒ—ãƒˆ

- LLMã‚’ã€Œãƒ¡ã‚¤ãƒ‰ã€ã€Œå¸«åŒ ã€ãªã©ã®äººæ ¼ã¨ã—ã¦ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åŒ–
- Discordä¸Šã§è¤‡æ•°AIã¨åŒæ™‚ã«ä¼šè©±ãŒã§ãã‚‹ã€Œãƒãƒ«ãƒãƒœãƒƒãƒˆæ§‹æˆã€
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ã‚„ã‚Šå–ã‚Šã®ä¸­ã§ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŸã¡ã®â€œäººæ ¼â€ãŒé€²åŒ–ã™ã‚‹ä»•çµ„ã¿ï¼ˆäºˆå®šï¼‰
- å¿œç­”åˆ¶å¾¡ãƒ»ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦è‡ªç„¶ãªä¼šè©±ã‚’å®Ÿç¾
- UIã®åˆ¶ç´„ã‚’æ’ã—ã€ã€Œè¨˜æ†¶ï¼ˆMemoryï¼‰ã€ã‚’ä¸­æ ¸ã«æ®ãˆãŸã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­è¨ˆ

---

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```bash
ThreeBodyChat/
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ compose.yml
â”œâ”€â”€ poetry.toml
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ poetry.lock
â”œâ”€â”€ README.md
â”œâ”€â”€ tests/
â””â”€â”€ threebodychat/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ Maid.py      # ãƒ¡ã‚¤ãƒ‰Botã®å®Ÿè£…
    â”œâ”€â”€ Master.py    # å¸«åŒ Botã®å®Ÿè£…äºˆå®š
    â””â”€â”€ config.py    # Discordãƒˆãƒ¼ã‚¯ãƒ³ãªã©ã®è¨­å®š
```

## Redisã«ã¤ã„ã¦

**Redis**ã¯ã€ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªå‹ã®é«˜é€Ÿãªãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ï¼ˆNoSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼‰ã§ã™ã€‚
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€Boté–“ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚­ãƒ¥ãƒ¼ã¨ã—ã¦Redisã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
OrchestratorãŒãƒ¦ãƒ¼ã‚¶ãƒ¼ç™ºè¨€ã‚’Redisã‚­ãƒ¥ãƒ¼ã«æ›¸ãè¾¼ã¿ã€Maid/Master BotãŒãã®ã‚­ãƒ¥ãƒ¼ã‚’ç›£è¦–ã—ã¦è¿”ç­”ã™ã‚‹è¨­è¨ˆã§ã™ã€‚

### Redisã®å°å…¥ãƒ»èµ·å‹•æ–¹æ³•ï¼ˆUbuntu/WSLã®å ´åˆï¼‰

1. Redisã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
   ```sh
   sudo apt update
   sudo apt install redis-server
   ```

2. Redisã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
   ```sh
   sudo service redis-server start
   ```

3. å‹•ä½œç¢ºèª
   ```sh
   redis-cli ping
   ```
   `PONG` ã¨è¿”ã£ã¦ãã‚Œã°OKã§ã™ã€‚

> Dockerã§Redisã‚’ä½¿ã„ãŸã„å ´åˆã¯
> `docker run -d -p 6379:6379 --name redis redis`
> ã§ã‚‚èµ·å‹•ã§ãã¾ã™ã€‚

## å‚è€ƒæ–‡çŒ®
- [Discord Botã®ã¤ãã‚Šã‹ãŸ](https://qiita.com/shown_it/items/6e7fb7777f45008e0496)
- [discord.pyå…¥é–€](https://qiita.com/float_py/items/f2fd2f56f9536520b36a)